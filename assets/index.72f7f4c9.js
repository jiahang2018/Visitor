import{D as V,_ as A,l as h,C as b,F as L,G as F,o as d,c as v,H as m,d as f,h as E,i as Q,I as C,k as P,r as T,J as j,K as B,a as e,t as s,w as S,L as H,M as k,x as G,z as K}from"./index.e44e980c.js";import{i as I}from"./echarts.c327d8d0.js";const N=r=>V({method:"POST",url:"/Api/Visitor/SYSTEM/VisitorStatistics",data:r});const z={__name:"index",props:{option:Object},setup(r){const o=r,n=h(null);return b(()=>{const c=n.value;if(c){let u=o.option,p=I(c);p.setOption(u),L("resize",()=>p.resize()),F(()=>o.option,t=>{p.setOption(t)},{deep:!0})}}),(c,u)=>(d(),v("div",{ref_key:"chart",ref:n,class:"chart"},null,512))}};var Y=A(z,[["__scopeId","data-v-a5c4872e"]]);const R={color:["#0075ff","#f69d20"],tooltip:{trigger:"axis",textStyle:{align:"left"}},legend:{left:"1%",data:[m.global.t("i18n.numberOfVisitors"),m.global.t("i18n.actualNumberOfVisitors")]},toolbox:{show:!0,feature:{dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:[{type:"category",boundaryGap:!1,data:[]}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}}],series:[{name:m.global.t("i18n.numberOfVisitors"),type:"line",smooth:!0,symbol:"none",data:[]},{name:m.global.t("i18n.actualNumberOfVisitors"),type:"line",smooth:!0,symbol:"none",data:[]}],dataZoom:[{endValue:7},{type:"slider",show:!0,start:5,end:30,xAxisIndex:[0]}]};const J={class:"box"},M={__name:"lineChart",props:{timeForm:{type:Object,default:()=>({SevenDaysActualArriveCount:[],SevenDaysVisitorCount:[]})}},setup(r){const{timeForm:o}=r,n=h(R),c=new Date,u=[];for(let a=6;a>=0;a--){const i=new Date(c);i.setDate(c.getDate()-a),u.push(p(i))}function p(a){const i=a.getFullYear(),y=(a.getMonth()+1).toString().padStart(2,"0"),_=a.getDate().toString().padStart(2,"0");return`${i}-${y}-${_}`}return(()=>{n.value.xAxis[0].data=u,n.value.series[0].data=o.SevenDaysVisitorCount,n.value.series[1].data=o.SevenDaysActualArriveCount})(),(a,i)=>(d(),v("div",J,[f(Y,{option:n.value},null,8,["option"])]))}};var U=A(M,[["__scopeId","data-v-0966a5ab"]]);const O={__name:"index",props:{timeForm:{type:Object,default:()=>({SevenDaysActualArriveCount:[],SevenDaysVisitorCount:[]})}},setup(r){return(o,n)=>(d(),v("div",null,[f(U,{timeForm:r.timeForm},null,8,["timeForm"])]))}};const X={class:"todo-list"},q={class:"todo-title"},W={class:"todo-card"},Z={class:"demo-progress"},$={class:"percentage-value"},ee={class:"percentage-label"},te={class:"tode-tubiao"},se={class:"s-flex2 s-m-14"},ae={class:"s-pi-gray"},oe={class:"detail s-m-t8"},ne={class:"s-flex2 s-m-14"},ie={class:"title"},re={class:"detail s-m-t8"},le={class:"card"},ce=["src"],de={class:"title"},ue={class:"detail"},pe={class:"company-details"},ve={class:"s-flex2"},he={class:"detail fs-colr"},_e={class:"s-flex2"},ge={class:"detail fs-colr"},me={class:"s-flex2"},Ae={class:"detail fs-colr"},fe={__name:"index",setup(r){const o=E(),n=Q(),c=C(()=>n.state.user),{UserID:u,token:p}=c.value,t=h({ActualArriveCount:0,ActualLeaveCount:0,DepartmentCount:0,EmployeeCount:0,HaveReviewPrmissionCount:0,PendingReviewCount:0,TodayReviewCount:0,TodayVisitorCount:0,WillArrive:0}),a=h(!0),i=P([{imgUrl:new URL("assets/todayfangke.20d5add1.png",self.location).href,title:o.t("i18n.applyToday"),data:0},{imgUrl:new URL("data:image/png;base64,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",self.location).href,title:o.t("i18n.haveComeToVisitToday"),data:0},{imgUrl:new URL("assets/yilichang.40a34290.png",self.location).href,title:o.t("i18n.waitingForAVisit"),data:0},{imgUrl:new URL("assets/weibaifangb.efa8c1ac.png",self.location).href,title:o.t("i18n.hasLeftTheField"),data:0}]),y=new Date;h(0);const _=C(()=>t.value.TodayVisitorCount===0?0:(t.value.TodayReviewCount/t.value.TodayVisitorCount).toFixed(2)*100);function x(){N({UserID:u,token:p,data:{TodayTime:y}}).then(l=>{a.value=!1,t.value=l.data.data,i[0].data=t.value.TodayVisitorCount,i[1].data=t.value.ActualArriveCount,i[2].data=t.value.WillArrive,i[3].data=t.value.ActualLeaveCount}).catch(()=>{a.value=!1})}return x(),(l,we)=>{const w=T("el-progress"),D=j("loading");return B((d(),v("div",null,[e("div",X,[e("div",q,s(l.$t("i18n.toBeDone")),1),e("div",W,[e("div",Z,[f(w,{type:"circle",percentage:_.value||0,"stroke-width":12},{default:S(({percentage:g})=>[e("span",$,s(_.value||0)+"%",1),e("span",ee,s(l.$t("i18n.auditRate")),1)]),_:1},8,["percentage"]),e("div",te,[e("div",se,[e("span",ae,s(l.$t("i18n.toBeExamined")),1),e("span",oe,s(t.value.PendingReviewCount),1)]),e("div",ne,[e("span",ie,s(l.$t("i18n.auditedToday")),1),e("span",re,s(t.value.TodayReviewCount),1)])])]),(d(!0),v(H,null,k(i,(g,De)=>(d(),v("div",le,[e("img",{src:g.imgUrl,class:"pi-wh-40"},null,8,ce),e("div",de,s(g.title),1),e("span",ue,s(g.data),1)]))),256))])]),e("div",pe,[e("div",ve,[e("span",null,s(l.$t("i18n.totalNumber")),1),e("span",he,s(t.value.EmployeeCount),1)]),e("div",_e,[e("span",null,s(l.$t("i18n.numberOfDepartments")),1),e("span",ge,s(t.value.DepartmentCount),1)]),e("div",me,[e("span",null,s(l.$t("i18n.numberOfPermissions")),1),e("span",Ae,s(t.value.HaveReviewPrmissionCount),1)])]),a.value?K("",!0):(d(),G(O,{key:0,timeForm:t.value},null,8,["timeForm"]))])),[[D,a.value]])}}};var ye=A(fe,[["__scopeId","data-v-494f83c2"]]);const Ce={class:"box"},xe={__name:"index",setup(r){return(o,n)=>(d(),v("div",Ce,[f(ye)]))}};var Le=A(xe,[["__scopeId","data-v-d6d6e042"]]);export{Le as default};
